{"ast":null,"code":"import paper from 'paper';\nconst changeNearestBeadColor = (paper, clickPoint) => {\n  let nearestBead = null;\n  let minDistance = Number.MAX_VALUE;\n\n  // paper.project.getItems makes it so not EVERYTHING in the project is queried. \n  paper.project.getItems({\n    name: 'bead'\n  }).forEach(item => {\n    const distance = item.position.getDistance(clickPoint);\n    if (distance < minDistance) {\n      minDistance = distance;\n      nearestBead = item;\n    }\n  });\n  return nearestBead;\n};\nconst beadTool = selectedColor => {\n  return new paper.Tool({\n    name: 'beadTool',\n    color: selectedColor,\n    activeBead: null,\n    setColor: function (color) {\n      console.log('UPDATING COLOR', new paper.Color(color).toCSS(true));\n      this.color = color;\n    },\n    onMouseDown: function (event) {\n      this.activeBead = changeNearestBeadColor(paper, event.point);\n    },\n    onMouseUp: function (event) {\n      if (this.activeBead) {\n        // IF BEAD IS NOT THERE, ADD IT\n        if (!this.activeBead.visible) {\n          this.activeBead.visible = true;\n          this.activeBead.fillColor = this.color;\n        }\n        // IF BEAD IS THERE, ONLY REMOVE IT IF SHIFTED\n        else if (this.activeBead.visible && event.modifiers.shift) {\n          this.activeBead.visible = false;\n          this.activeBead.fillColor = this.color;\n        } else {\n          this.activeBead.fillColor = this.color;\n        }\n      }\n    }\n  });\n};\nexport { beadTool };","map":{"version":3,"names":["paper","changeNearestBeadColor","clickPoint","nearestBead","minDistance","Number","MAX_VALUE","project","getItems","name","forEach","item","distance","position","getDistance","beadTool","selectedColor","Tool","color","activeBead","setColor","console","log","Color","toCSS","onMouseDown","event","point","onMouseUp","visible","fillColor","modifiers","shift"],"sources":["/Users/mariahjadegardner/UTA/FA24/Research/string-theory/react-coloring/src/interactions/BeadTool.jsx"],"sourcesContent":["import paper from 'paper';\nconst changeNearestBeadColor = (paper, clickPoint) => {\n    let nearestBead = null;\n    let minDistance = Number.MAX_VALUE;\n  \n    // paper.project.getItems makes it so not EVERYTHING in the project is queried. \n    paper.project.getItems({name: 'bead'}).forEach(item => {\n      const distance = item.position.getDistance(clickPoint);\n      if (distance < minDistance) {\n        minDistance = distance;\n        nearestBead = item;\n      }\n    });\n  \n    return nearestBead;\n  };\n\n  \nconst beadTool = (selectedColor) => {\n    return new paper.Tool({\n        name: 'beadTool',\n        color: selectedColor,\n        activeBead: null,\n        setColor: function (color) {\n            console.log('UPDATING COLOR', new paper.Color(color).toCSS(true));\n            this.color = color;\n        },\n        onMouseDown: function(event) {\n            this.activeBead = changeNearestBeadColor(paper, event.point);\n        },\n        onMouseUp: function(event){\n            if (this.activeBead ) {\n                // IF BEAD IS NOT THERE, ADD IT\n                if(!this.activeBead.visible){\n                    this.activeBead.visible = true;\n                    this.activeBead.fillColor = this.color;\n                }\n                // IF BEAD IS THERE, ONLY REMOVE IT IF SHIFTED\n                else if(this.activeBead.visible && event.modifiers.shift){\n                    this.activeBead.visible = false;\n                    this.activeBead.fillColor = this.color;\n                }\n                else{\n                    this.activeBead.fillColor = this.color;\n                }\n            }\n        }\n    });\n};\n\nexport {beadTool};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,MAAMC,sBAAsB,GAAGA,CAACD,KAAK,EAAEE,UAAU,KAAK;EAClD,IAAIC,WAAW,GAAG,IAAI;EACtB,IAAIC,WAAW,GAAGC,MAAM,CAACC,SAAS;;EAElC;EACAN,KAAK,CAACO,OAAO,CAACC,QAAQ,CAAC;IAACC,IAAI,EAAE;EAAM,CAAC,CAAC,CAACC,OAAO,CAACC,IAAI,IAAI;IACrD,MAAMC,QAAQ,GAAGD,IAAI,CAACE,QAAQ,CAACC,WAAW,CAACZ,UAAU,CAAC;IACtD,IAAIU,QAAQ,GAAGR,WAAW,EAAE;MAC1BA,WAAW,GAAGQ,QAAQ;MACtBT,WAAW,GAAGQ,IAAI;IACpB;EACF,CAAC,CAAC;EAEF,OAAOR,WAAW;AACpB,CAAC;AAGH,MAAMY,QAAQ,GAAIC,aAAa,IAAK;EAChC,OAAO,IAAIhB,KAAK,CAACiB,IAAI,CAAC;IAClBR,IAAI,EAAE,UAAU;IAChBS,KAAK,EAAEF,aAAa;IACpBG,UAAU,EAAE,IAAI;IAChBC,QAAQ,EAAE,SAAAA,CAAUF,KAAK,EAAE;MACvBG,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAE,IAAItB,KAAK,CAACuB,KAAK,CAACL,KAAK,CAAC,CAACM,KAAK,CAAC,IAAI,CAAC,CAAC;MACjE,IAAI,CAACN,KAAK,GAAGA,KAAK;IACtB,CAAC;IACDO,WAAW,EAAE,SAAAA,CAASC,KAAK,EAAE;MACzB,IAAI,CAACP,UAAU,GAAGlB,sBAAsB,CAACD,KAAK,EAAE0B,KAAK,CAACC,KAAK,CAAC;IAChE,CAAC;IACDC,SAAS,EAAE,SAAAA,CAASF,KAAK,EAAC;MACtB,IAAI,IAAI,CAACP,UAAU,EAAG;QAClB;QACA,IAAG,CAAC,IAAI,CAACA,UAAU,CAACU,OAAO,EAAC;UACxB,IAAI,CAACV,UAAU,CAACU,OAAO,GAAG,IAAI;UAC9B,IAAI,CAACV,UAAU,CAACW,SAAS,GAAG,IAAI,CAACZ,KAAK;QAC1C;QACA;QAAA,KACK,IAAG,IAAI,CAACC,UAAU,CAACU,OAAO,IAAIH,KAAK,CAACK,SAAS,CAACC,KAAK,EAAC;UACrD,IAAI,CAACb,UAAU,CAACU,OAAO,GAAG,KAAK;UAC/B,IAAI,CAACV,UAAU,CAACW,SAAS,GAAG,IAAI,CAACZ,KAAK;QAC1C,CAAC,MACG;UACA,IAAI,CAACC,UAAU,CAACW,SAAS,GAAG,IAAI,CAACZ,KAAK;QAC1C;MACJ;IACJ;EACJ,CAAC,CAAC;AACN,CAAC;AAED,SAAQH,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}